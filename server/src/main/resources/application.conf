ktor {
    deployment {
        port = 8080
        port = ${?PORT}
    }
    application {
        modules = [ com.picnic.server.ApplicationKt.module ]
    }
}

database {
    url = "jdbc:postgresql://localhost:5432/picnic_db"
    url = ${?DATABASE_URL}
    driver = "org.postgresql.Driver"
    user = "picnic_user"
    user = ${?DATABASE_USER}
    password = "picnic_password"
    password = ${?DATABASE_PASSWORD}
    maxPoolSize = 10
}

redis {
    host = "localhost"
    host = ${?REDIS_HOST}
    port = 6379
    port = ${?REDIS_PORT}
}

jwt {
    secret = "picnic-jwt-secret-change-in-production"
    secret = ${?JWT_SECRET}
    issuer = "picnic-app"
    audience = "picnic-users"
    realm = "Picnic API"
    accessTokenExpiration = 86400000    # 24 hours in milliseconds
    refreshTokenExpiration = 2592000000 # 30 days in milliseconds
}

storage {
    type = "s3"
    type = ${?STORAGE_TYPE}
    bucketName = "picnic-media"
    bucketName = ${?AWS_BUCKET_NAME}
    region = "us-east-1"
    region = ${?AWS_REGION}
}

email {
    provider = "sendgrid"
    apiKey = ${?SENDGRID_API_KEY}
    fromEmail = "noreply@picnic-app.com"
    fromName = "Picnic"
}
